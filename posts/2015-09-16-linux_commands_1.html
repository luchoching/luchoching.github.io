<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width"><title>Cho-Ching's Blog - linux_commands_1</title><link rel="stylesheet" href="../css/main.css"><link rel="stylesheet" href="../css/codepen-embed.css"><script src="../js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="Wrapper"><div class="Header"><h1><a href="/">Cho-Ching's Blog</a></h1><ul class="Menu"><li><a href="/">Posts</a></li><li><a href="/pages/Bookmarks.html">Bookmarks</a></li><li><a href="/english">English</a></li><li><a href="/pages/About.html">About</a></li></ul></div><div class="Main"><h1 id="-linux-commands-">[Linux] commands(一)</h1>
<p>看<a href="http://linuxcommand.org/">linuxcommand.org</a>逐步學習Linux指令</p>
<h2 id="shell-terminal">Shell, Terminal</h2>
<p>What is the <strong>Shell</strong> --&gt; the shell is a program that takes commands from the keyboard and gives them to the operating system to perform. ex: bash, zsh</p>
<p>What is a <strong>Terminal</strong> --&gt; It&#39;s a program called a <em>terminal emulator</em>. This is a program that opens a window and lets you interact with the shell. ex: gnome-terminal, xterm</p>
<blockquote>
<p>command -options arguments</p>
</blockquote>
<h2 id="host-name">Host name</h2>
<p><code>$ hostname</code> 顯示我們這台電腦的hostname</p>
<p><code>$ cat /etc/hosts</code>也可以</p>
<h2 id="navigation">Navigation</h2>
<p><code>$ pwd</code>: print working directory</p>
<p><code>$ cd</code>: change directory</p>
<p><code>$ ls</code>: list files and directories</p>
<p><code>$ ls -l</code>: in long format</p>
<p>a close look of long format: </p>
<p><img src="http://imgur.com/XYeEqRQl.png" alt="lsl"></p>
<p>ubuntu bash已經內建一些好用alias: </p>
<pre><code><span class="hljs-keyword">alias</span> <span class="hljs-title">ll</span>=<span class="hljs-comment">'ls -alF'                                                                           </span>
<span class="hljs-keyword">alias</span> <span class="hljs-title">la</span>=<span class="hljs-comment">'ls -A'                                                                             </span>
<span class="hljs-keyword">alias</span> <span class="hljs-title">l</span>=<span class="hljs-comment">'ls -CF'</span>
</code></pre><p>如果<code>$ cd</code>後面沒有接參數, <code>cd</code>就會把working directory從目前的目錄切換到<code>/home/yourusername</code></p>
<p><code>$ less text_file</code> : let you view text files. 可用page up , page down, <code>G</code>到檔案底部, <code>1G</code>到檔案開頭, 也可<code>/characters</code> search ,用<code>n</code>repeat previous search</p>
<p><code>$ file name_of_file</code>: <code>file</code> will examine a file and tell you what kind of file it is.</p>
<p>例如：</p>
<pre><code>$ <span class="hljs-built_in">file</span> <span class="hljs-number">2015</span>-<span class="hljs-number">08</span>-<span class="hljs-number">28</span>-git_9_remote_branches.html 
<span class="hljs-number">2015</span>-<span class="hljs-number">08</span>-<span class="hljs-number">28</span>-git_9_remote_branches.html: HTML document, UTF-<span class="hljs-number">8</span> Unicode <span class="hljs-keyword">text</span>, <span class="hljs-operator">with</span> very <span class="hljs-keyword">long</span> <span class="hljs-keyword">lines</span>
</code></pre><h2 id="manipulating-files">Manipulating Files</h2>
<p><code>cp</code>: copy files and directories</p>
<p><code>mv</code>: move or rename files and directories</p>
<p><code>rm</code>: remove(delete) files and directories</p>
<p><code>mkdir</code>: create directories</p>
<p>可以這樣: <code>mv file1 file2 file3 dir1</code></p>
<h2 id="working-with-commands">Working with Commands</h2>
<p><code>type</code>: display information about command type</p>
<pre><code>$ <span class="hljs-keyword">type</span> gla
gla <span class="hljs-keyword">is</span> aliased <span class="hljs-keyword">to</span> `git la'
$ <span class="hljs-keyword">type</span> ls
ls <span class="hljs-keyword">is</span> aliased <span class="hljs-keyword">to</span> `ls <span class="hljs-comment">--color=auto'</span>
$ <span class="hljs-keyword">type</span> ll
ll <span class="hljs-keyword">is</span> aliased <span class="hljs-keyword">to</span> `ls -al'
$ <span class="hljs-keyword">type</span> cp
cp <span class="hljs-keyword">is</span> /bin/cp
</code></pre><p><code>which</code>: locate a command</p>
<pre><code>$ <span class="hljs-keyword">which</span> <span class="hljs-keyword">ls</span>
/bin/<span class="hljs-keyword">ls</span>
$ <span class="hljs-keyword">which</span> git
/usr/bin/git
</code></pre><p><code>help</code></p>
<p><code>man</code></p>
<h2 id="i-o-redirection">I/O Redirection</h2>
<p>send to standard output: </p>
<pre><code><span class="hljs-variable">$ </span>ls &gt; file_list.txt
<span class="hljs-variable">$ </span>ls <span class="hljs-prompt">&gt;&gt; </span>file_list.txt
</code></pre><p><strong>standard input</strong>: </p>
<p><code>sort</code>: sort lines of text files</p>
<pre><code><span class="hljs-variable">$ </span>sort &lt; file_list.txt
</code></pre><p><strong>注意</strong>: </p>
<pre><code>$ sort &lt; file_list<span class="hljs-class">.txt</span> &gt; sorted_file_list.txt
</code></pre><p>會先執行<code>sort &lt; file_list.txt</code> 將結果output到 <code>sorted_file_list.txt</code></p>
<h3 id="cmd-pipelines">cmd Pipelines</h3>
<p>The standard output of one command is fed into the standard input of another: </p>
<pre><code>$ <span class="hljs-keyword">ls</span> -<span class="hljs-keyword">l</span> | less
</code></pre><p>the output of the <code>ls</code> command is fed into <code>less</code>.</p>
<p><strong>filters</strong>: take standard input and perform an operation upon it and send the results to statndard output.</p>
<p>通常命令組合跟filter搭配, 例如<code>sort</code>, <code>grep</code>, <code>fmt</code>, <code>sed</code>, <code>awk</code></p>
<h2 id="permissions">Permissions</h2>
<p><code>chmod</code>: modify file access rights</p>
<p><code>su</code>, <code>sudo</code>: temporarily become the superuser (在ubuntu用<code>sudo</code>)</p>
<p><code>chown</code>: change file ownership</p>
<p><code>chgrp</code>: change a file&#39;s group ownership</p>
<p><img src="http://linuxcommand.org/images/file_permissions.png" alt="f1"></p>
<h2 id="job-control">Job Control</h2>
<p><code>ps</code>: list the processes running on the system</p>
<p><code>kill</code>: send a signal to one or more processes (usually to kill a process)</p>
<p><code>jobs</code>: an alternate way of listing your own processes</p>
<p><code>bg</code>: put a process in the background</p>
<p><code>fg</code>: put a process in the forground</p>
<p>按 <code>Ctrl-Z</code> 表示將process暫停, 該process還在</p>
<h2 id="alias">alias</h2>
<p><code>$ alias</code> 列出所有bash alias</p>
<p><a href="http://www.thegeekstuff.com/2010/04/unix-bash-alias-examples/">bash alias examples</a></p>
<p>將aliases抽出到<code>~/.bash_aliases</code>, </p>
<h3 id="-bash_alias-vim-highlight">.bash_alias + vim highlight</h3>
<p>要讓vim可以顯示<code>.bash_aliases</code>語法標示,  需用root修改<code>/usr/share/vim/vim74/filetype.vim</code>, 搜尋<code>bashrc</code>, 在： </p>
<pre><code>au BufNewFile,BufRead .bashrc*,bashrc,bash<span class="hljs-class">.bashrc</span>,.bash_profile*,.bash_logout*,*<span class="hljs-class">.bash</span>,*<span class="hljs-class">.ebuild</span> call <span class="hljs-function"><span class="hljs-title">SetFileTypeSH</span><span class="hljs-params">(<span class="hljs-string">"bash"</span>)</span></span>
</code></pre><p>加入<code>.bash_aliases</code>即可</p>
<h2 id="group-user-">group &amp; user 管理</h2>
<p>列出你所屬的group :  <code>$ groups</code></p>
<p><code>$ groups yourusername</code> 或 <code>$group root</code> 列出該user所屬的group</p>
<p>或是: </p>
<pre><code>$ <span class="hljs-property">id</span> -Gn
$ <span class="hljs-property">id</span> -Gn yourusername
$ <span class="hljs-property">id</span> -Gn root
</code></pre><p>find out my primary group membership: </p>
<pre><code>$ getent group yourusername
<span class="hljs-string">yourusername:</span><span class="hljs-string">x:</span><span class="hljs-number">1000</span>:
</code></pre><p>user <code>yourusername</code> has group id # 1000 and has group name <code>yourusername</code> for primary group membership.</p>
<p>列出所有group: <code>/etc/group</code> 或是: <code>getent group | cut -d: -f1</code></p>
<h2 id="cat-command">cat command</h2>
<p><a href="http://www.cyberciti.biz/faq/howto-use-cat-command-in-unix-linux-shell-script/">參考</a></p>
<p><code>cat filename</code> 讀取檔案</p>
<p><code>cat &gt; filename</code> 建立新檔案</p>
<p><code>cat file1 file2 &gt; file3</code> 合併檔案</p>
<p>預設<code>cat</code>會把output輸出到螢幕, 現在redirect到另外一個檔案:  </p>
<pre><code><span class="hljs-variable">$ </span>cat /etc/passwd &gt; <span class="hljs-regexp">/tmp/test</span>.txt
</code></pre><p>或是: </p>
<pre><code>$ cat <span class="hljs-regexp">/etc/</span>hosts <span class="hljs-regexp">/etc/</span>resolv.conf <span class="hljs-regexp">/etc/</span>fstab &gt; <span class="hljs-regexp">/tmp/</span>outputs.txt
$ cat <span class="hljs-regexp">/tmp/</span>outputs.txt
</code></pre><p>新增檔案(save and exit 按下<code>ctrl+D</code>): </p>
<pre><code>$ <span class="hljs-keyword">cat</span> &gt; foo
this is a <span class="hljs-keyword">test</span>
$ <span class="hljs-keyword">cat</span> foo
this is a <span class="hljs-keyword">test</span>
$ <span class="hljs-keyword">cat</span> &gt;&gt; foo
<span class="hljs-keyword">more</span>
$ <span class="hljs-keyword">cat</span> foo
this is a <span class="hljs-keyword">test</span>
<span class="hljs-keyword">more</span>
</code></pre><p>以下COOL!: </p>
<pre><code><span class="hljs-variable">$ </span>cat file1 - file2 &gt; file3
</code></pre><p><code>-</code>表示鍵盤輸入, 會把file1加上你鍵盤輸入內容加上file2的內容, 輸出給file3</p>
<p><code>-b</code>(number non-blank), <code>-n</code>(number): </p>
<pre><code>$ <span class="hljs-keyword">cat</span> -b foo
     1  this is a <span class="hljs-keyword">test</span>
     2  <span class="hljs-keyword">more</span>

     3  <span class="hljs-keyword">cc</span>
     4  dd
$ <span class="hljs-keyword">cat</span> -<span class="hljs-keyword">n</span> foo
     1  this is a <span class="hljs-keyword">test</span>
     2  <span class="hljs-keyword">more</span>
     3  
     4  <span class="hljs-keyword">cc</span>
</code></pre><div id="disqus_thread"></div><h3 class="back"><a href="/"><< 回到文章列表</a></h3></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES * * */
var disqus_shortname = 'luchoching';
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript><Please>enable JavaScript to view the </Please><a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus`</a></noscript><div class="Footer"><p><i>學習程式,順便翻譯與筆記。</i><a href="email:choching.work@gmail.com">Email Me >></a></p></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-63125623-1', 'auto');
ga('send', 'pageview');</script></div></body></html>